/**
 * Help plugin client script
 *
 * @licstart  The following is the entire license notice for the
 * JavaScript code in this file.
 *
 * Copyright (c) The Chronomail Dev Team
 *
 * The JavaScript code in this page is free software: you can redistribute it
 * and/or modify it under the terms of the GNU General Public License
 * as published by the Free Software Foundation, either version 3 of
 * the License, or (at your option) any later version.
 *
 * @licend  The above is the entire license notice
 * for the JavaScript code in this file.
 */
window.chronomail&&(chronomail.addEventListener("beforeswitch-task",function(a){if("help"==a){if("help"==chronomail.task)return!1;a=chronomail.url("help/index",{_rel:chronomail.task+(chronomail.env.action?"/"+chronomail.env.action:"")});chronomail.env.help_open_extwin?chronomail.open_window(a,1020,!1):chronomail.redirect(a,!1);return!1}}),chronomail.addEventListener("init",function(a){if(chronomail.env.contentframe&&"help"==chronomail.task){$("#"+chronomail.env.contentframe).on("load error",function(a){chronomail.set_busy(!1,null,chronomail.env.frame_lock);chronomail.env.frame_lock=
null;"load"==a.type&&($(chronomail.env.help_action_item).parents("ul").children().removeClass("selected"),$(chronomail.env.help_action_item).parent().addClass("selected"))});try{var c=chronomail.get_frame_window(chronomail.env.contentframe);c&&0<=c.location.href.indexOf(chronomail.env.blankpage)&&show_help_content(chronomail.env.action)}catch(d){}}}));
function show_help_content(a,c){var d,e=window,b=chronomail.env.help_links[a];if(d=chronomail.get_frame_window(chronomail.env.contentframe))e=d,b+=(-1<b.indexOf("?")?"&":"?")+"_framed=1";chronomail.env.extwin&&(b+=(-1<b.indexOf("?")?"&":"?")+"_extwin=1");/^self/.test(b)&&(b=b.substr(4)+"&_content=1&_task=help&_action="+a);chronomail.env.help_action_item=c?c.target:$('[rel="'+a+'"]');chronomail.show_contentframe(!0);chronomail.location_href(b,e,!0);return!1};
